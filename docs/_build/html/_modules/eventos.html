<!DOCTYPE html>

<html lang="es" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>eventos &#8212; documentación de alvarezgomez - 1.0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=4936afed"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Código fuente para eventos</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">csv</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">PyQt6</span><span class="w"> </span><span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtWidgets</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">locale</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">PyQt6.QtCore</span><span class="w"> </span><span class="kn">import</span> <span class="n">Qt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">PyQt6.QtGui</span><span class="w"> </span><span class="kn">import</span> <span class="n">QIcon</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">PyQt6.QtWidgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">,</span> <span class="n">QPushButton</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">reportlab.lib.testutils</span><span class="w"> </span><span class="kn">import</span> <span class="n">setOutDir</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">facturas</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">var</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">clientes</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">propiedades</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">conexion</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">conexion_server</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">styles</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">vendedores</span>

<span class="c1">#Establecer configuración regional</span>
<span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_TIME</span><span class="p">,</span> <span class="s1">&#39;es_ES.UTF-8&#39;</span><span class="p">)</span>
<span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_MONETARY</span><span class="p">,</span> <span class="s1">&#39;es_ES.UTF-8&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="Eventos">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos">[documentos]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Eventos</span><span class="p">:</span>
<div class="viewcode-block" id="Eventos.mensaje_salir">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.mensaje_salir">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">mensaje_salir</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">mbox</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Icon</span><span class="o">.</span><span class="n">Question</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="s2">&quot;img/house.ico&quot;</span><span class="p">))</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Salir&#39;</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Desea usted salir&quot;</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setDefaultButton</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">Yes</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Sí&quot;</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">No</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;No&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mbox</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mbox</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span></div>


<div class="viewcode-block" id="Eventos.mensaje_exito">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.mensaje_exito">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">mensaje_exito</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">):</span>
        <span class="n">mbox</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Icon</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="s2">&quot;img/house.ico&quot;</span><span class="p">))</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">titulo</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mensaje</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setDefaultButton</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Aceptar&quot;</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span></div>


<div class="viewcode-block" id="Eventos.mensaje_error">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.mensaje_error">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">mensaje_error</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">):</span>
        <span class="n">mbox</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Icon</span><span class="o">.</span><span class="n">Critical</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="s2">&quot;img/house.ico&quot;</span><span class="p">))</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">titulo</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">setDefaultButton</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">StandardButton</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Aceptar&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="nb">iter</span><span class="p">(</span><span class="n">mensaje</span><span class="p">)</span>
            <span class="n">mensaje_total</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mensaje</span><span class="p">:</span>
                <span class="n">mensaje_total</span> <span class="o">=</span> <span class="n">mensaje_total</span> <span class="o">+</span> <span class="n">m</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">mbox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mensaje_total</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">te</span><span class="p">:</span>
            <span class="n">mbox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mensaje</span><span class="p">)</span>
        <span class="n">mbox</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span></div>


<div class="viewcode-block" id="Eventos.cargar_provincias">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_provincias">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_provincias</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">listado</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">listar_provincias</span><span class="p">()</span>
        <span class="c1">#listado = conexionserver.ConexionServer.listar_provincias(self)</span>
        <span class="k">for</span> <span class="n">prov</span> <span class="ow">in</span> <span class="n">listado</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">prov</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">prov</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>


<div class="viewcode-block" id="Eventos.cargar_municipios">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_municipios">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_municipios</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">provId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">listado</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">listar_municipios</span><span class="p">(</span><span class="n">provId</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">mun</span> <span class="ow">in</span> <span class="n">listado</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">mun</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">mun</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>


<div class="viewcode-block" id="Eventos.observar_dni">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_dni">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_dni</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dni</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_dni</span><span class="p">(</span><span class="n">dni</span><span class="p">):</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span><span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">dni</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span><span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar el dni&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_email">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_email">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_email</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mail</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_email</span><span class="p">(</span><span class="n">mail</span><span class="p">)</span> <span class="ow">or</span> <span class="n">mail</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Email no válido&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar el email&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_movil">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_movil">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_movil</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">movil</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_movil</span><span class="p">(</span><span class="n">movil</span><span class="p">):</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Móvil no válido&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar el móvil&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_fecha_alta">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_fecha_alta">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_fecha_alta</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fecha</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_fecha</span><span class="p">(</span><span class="n">fecha</span><span class="p">):</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Fecha no válida&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar la fecha de alta&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_fecha_baja">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_fecha_baja">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_fecha_baja</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fecha</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_fecha</span><span class="p">(</span><span class="n">fecha</span><span class="p">)</span> <span class="ow">or</span> <span class="n">fecha</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;fecha no válida&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar la fecha de baja&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_codigo_postal">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_codigo_postal">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_codigo_postal</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">postal</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_numero</span><span class="p">(</span><span class="n">postal</span><span class="p">):</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;CP no válido&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar el código postal&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_superficie">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_superficie">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_superficie</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">superficie</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_numero</span><span class="p">(</span><span class="n">superficie</span><span class="p">):</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Valor no válido&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar la superficie&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_precio">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_precio">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_precio</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">precio</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="n">nombre</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">objectName</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_numero</span><span class="p">(</span><span class="n">precio</span><span class="p">)</span> <span class="ow">or</span> <span class="n">precio</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">Eventos</span><span class="o">.</span><span class="n">validar_numero</span><span class="p">(</span><span class="n">precio</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">nombre</span> <span class="o">==</span> <span class="s2">&quot;txt_pro_precio_alquiler&quot;</span><span class="p">):</span>
                        <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_alquiler_propiedad&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="p">(</span><span class="n">nombre</span> <span class="o">==</span> <span class="s2">&quot;txt_pro_precio_venta&quot;</span><span class="p">):</span>
                        <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_venta_propiedad&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">nombre</span> <span class="o">==</span> <span class="s2">&quot;txt_pro_precio_alquiler&quot;</span><span class="p">):</span>
                        <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_alquiler_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="p">(</span><span class="n">nombre</span> <span class="o">==</span> <span class="s2">&quot;txt_pro_precio_venta&quot;</span><span class="p">):</span>
                        <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_venta_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="s2">&quot;general_label_error&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Valor no válido&quot;</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">nombre</span> <span class="o">==</span> <span class="s2">&quot;txt_pro_precio_alquiler&quot;</span><span class="p">):</span>
                    <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_alquiler_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                <span class="k">elif</span> <span class="p">(</span><span class="n">nombre</span> <span class="o">==</span> <span class="s2">&quot;txt_pro_precio_venta&quot;</span><span class="p">):</span>
                    <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_venta_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al validar el precio&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.observar_checkbox">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.observar_checkbox">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">observar_checkbox</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">objectName</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;chk_pro_alquiler&quot;</span><span class="p">):</span>
                <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;check_alquiler_propiedad&quot;</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">isChecked</span><span class="p">())</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;chk_pro_venta&quot;</span><span class="p">):</span>
                <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;check_venta_propiedad&quot;</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">isChecked</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al observar el checkbox&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>

    
        
<div class="viewcode-block" id="Eventos.validar_dni">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.validar_dni">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">validar_dni</span><span class="p">(</span><span class="n">dni</span><span class="p">):</span>
        <span class="n">valid_letters</span> <span class="o">=</span> <span class="s2">&quot;TRWAGMYFPDXBNJZSQVHLCKE&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dni</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">9</span> <span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">number_part</span> <span class="o">=</span> <span class="n">dni</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">number_part</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">correct_letter</span> <span class="o">=</span> <span class="n">valid_letters</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">number_part</span><span class="p">)</span> <span class="o">%</span> <span class="mi">23</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">dni</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">!=</span> <span class="n">correct_letter</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="Eventos.validar_email">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.validar_email">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">validar_email</span><span class="p">(</span><span class="n">mail</span><span class="p">):</span>
        <span class="n">mail</span> <span class="o">=</span> <span class="n">mail</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;^[a-z0-9]+[\._]?[a-z0-9]+[@]\w+[.]\w+$&#39;</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">mail</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="Eventos.validar_movil">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.validar_movil">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">validar_movil</span><span class="p">(</span><span class="n">phone</span><span class="p">):</span>
        <span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;(\+34|0034|34)?(6|7)([0-9])</span><span class="si">{8}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">phone</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

        
<div class="viewcode-block" id="Eventos.validar_fecha">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.validar_fecha">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">validar_fecha</span><span class="p">(</span><span class="n">fecha</span><span class="p">):</span>
        <span class="n">formato</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">/%m/%Y&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">fecha</span><span class="p">,</span> <span class="n">formato</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

        
<div class="viewcode-block" id="Eventos.validar_numero">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.validar_numero">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">validar_numero</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="Eventos.abrir_calendar">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.abrir_calendar">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">abrir_calendar</span><span class="p">(</span><span class="n">btn</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">btn</span> <span class="o">=</span> <span class="n">btn</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui_calendar</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error en abrir calendar &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.cargar_fecha">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_fecha">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_fecha</span><span class="p">(</span><span class="n">qDate</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{:02d}</span><span class="s1">/</span><span class="si">{:02d}</span><span class="s1">/</span><span class="si">{:4d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qDate</span><span class="o">.</span><span class="n">day</span><span class="p">(),</span> <span class="n">qDate</span><span class="o">.</span><span class="n">month</span><span class="p">(),</span> <span class="n">qDate</span><span class="o">.</span><span class="n">year</span><span class="p">()))</span>
            <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">var</span><span class="o">.</span><span class="n">btn</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_cli_alta</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">observar_fecha_alta</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_cli_alta</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">var</span><span class="o">.</span><span class="n">btn</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_cli_baja</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">observar_fecha_baja</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_cli_baja</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">var</span><span class="o">.</span><span class="n">btn</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_pro_alta</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">observar_fecha_alta</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_pro_alta</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">var</span><span class="o">.</span><span class="n">btn</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_pro_baja</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">observar_fecha_baja</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_pro_baja</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">var</span><span class="o">.</span><span class="n">btn</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_ven_alta</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">observar_fecha_alta</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_ven_alta</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">var</span><span class="o">.</span><span class="n">btn</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_ven_baja</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">observar_fecha_baja</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_ven_baja</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_fac_alta</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">observar_fecha_alta</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">txt_fac_alta</span><span class="p">)</span>

            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui_calendar</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">data</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error en cargar fecha: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.cargar_tabla_clientes">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_tabla_clientes">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_tabla_clientes</span><span class="p">():</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">clientes</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_query_object&quot;</span><span class="p">]</span>

        <span class="n">start</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]):</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]))</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">%</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lbl_cli_pagina</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Página &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; de &quot;</span>
                <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">])))</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lbl_cli_pagina</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Página &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; de &quot;</span>
                <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span> 

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">clientes</span><span class="p">)):</span>
                <span class="n">cliente</span> <span class="o">=</span> <span class="n">clientes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">show_cli_on_table</span><span class="p">(</span><span class="n">cliente</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="Eventos.cargar_tabla_propiedades">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_tabla_propiedades">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_tabla_propiedades</span><span class="p">():</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">propiedades</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_query_object&quot;</span><span class="p">]</span>

        <span class="n">start</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]):</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]))</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">%</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lbl_pro_pagina</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Página &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; de &quot;</span>
                <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">])))</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lbl_pro_pagina</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Página &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; de &quot;</span>
                <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span> 

        <span class="k">if</span> <span class="n">propiedades</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">propiedades</span><span class="p">)):</span>
                    <span class="n">propiedad</span> <span class="o">=</span> <span class="n">propiedades</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">Eventos</span><span class="o">.</span><span class="n">show_pro_on_table</span><span class="p">(</span><span class="n">propiedad</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                    <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;No se encontraron propiedades&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>

            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.cargar_tabla_vendedores">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_tabla_vendedores">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_tabla_vendedores</span><span class="p">():</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">vendedores</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;vendedor_query_object&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vendedores</span><span class="p">)):</span>
            <span class="n">vendedor</span> <span class="o">=</span> <span class="n">vendedores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">Eventos</span><span class="o">.</span><span class="n">show_ven_on_table</span><span class="p">(</span><span class="n">vendedor</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="Eventos.cargar_tabla_facturas">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_tabla_facturas">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_tabla_facturas</span><span class="p">():</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">facturas</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;factura_query_object&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">facturas</span><span class="p">)):</span>
            <span class="n">factura</span> <span class="o">=</span> <span class="n">facturas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">Eventos</span><span class="o">.</span><span class="n">show_fac_on_table</span><span class="p">(</span><span class="n">factura</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="Eventos.show_cli_on_table">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.show_cli_on_table">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_cli_on_table</span><span class="p">(</span><span class="n">cliente</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">cliente</span><span class="p">[</span><span class="s2">&quot;dni&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">cliente</span><span class="p">[</span><span class="s2">&quot;apellido&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">cliente</span><span class="p">[</span><span class="s2">&quot;nombre&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="n">cliente</span><span class="p">[</span><span class="s2">&quot;movil&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span><span class="p">))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">cliente</span><span class="p">[</span><span class="s2">&quot;provincia&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">cliente</span><span class="p">[</span><span class="s2">&quot;municipio&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="n">cliente</span><span class="p">[</span><span class="s2">&quot;fecha_baja&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span><span class="p">))</span>

<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        var.ui.tab_cli.item(index, 0).setTextAlignment(QtCore.Qt.AlignmentFlag.AlignCenter.AlignVCenter)</span>
<span class="sd">        var.ui.tab_cli.item(index, 1).setTextAlignment(QtCore.Qt.AlignmentFlag.AlignLeft.AlignVCenter)</span>
<span class="sd">        var.ui.tab_cli.item(index, 2).setTextAlignment(QtCore.Qt.AlignmentFlag.AlignLeft.AlignVCenter)</span>
<span class="sd">        var.ui.tab_cli.item(index, 3).setTextAlignment(QtCore.Qt.AlignmentFlag.AlignCenter.AlignVCenter)</span>
<span class="sd">        var.ui.tab_cli.item(index, 4).setTextAlignment(QtCore.Qt.AlignmentFlag.AlignLeft.AlignVCenter)</span>
<span class="sd">        var.ui.tab_cli.item(index, 5).setTextAlignment(QtCore.Qt.AlignmentFlag.AlignLeft.AlignVCenter)</span>
<span class="sd">        var.ui.tab_cli.item(index, 6).setTextAlignment(QtCore.Qt.AlignmentFlag.AlignCenter.AlignVCenter)</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.show_pro_on_table">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.show_pro_on_table">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_pro_on_table</span><span class="p">(</span><span class="n">propiedad</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;codigo&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;municipio&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;tipo&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;habitaciones&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;banos&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span>
            <span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;precio_alquiler&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; €&quot;</span> <span class="k">if</span> <span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;precio_alquiler&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span><span class="p">))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span>
            <span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;precio_venta&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; €&quot;</span> <span class="k">if</span> <span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;precio_venta&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span><span class="p">))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;operaciones&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">propiedad</span><span class="p">[</span><span class="s2">&quot;fecha_baja&quot;</span><span class="p">]))</span>

        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.show_ven_on_table">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.show_ven_on_table">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_ven_on_table</span><span class="p">(</span><span class="n">vendedor</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">vendedor</span><span class="p">[</span><span class="s2">&quot;codigo&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">vendedor</span><span class="p">[</span><span class="s2">&quot;nombre&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">vendedor</span><span class="p">[</span><span class="s2">&quot;movil&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">vendedor</span><span class="p">[</span><span class="s2">&quot;provincia&quot;</span><span class="p">]))</span>

        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.show_fac_on_table">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.show_fac_on_table">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_fac_on_table</span><span class="p">(</span><span class="n">factura</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">factura</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">factura</span><span class="p">[</span><span class="s2">&quot;dni_cliente&quot;</span><span class="p">]))</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">factura</span><span class="p">[</span><span class="s2">&quot;fecha_registro&quot;</span><span class="p">]))</span>

        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="c1">#Add button to table</span>
        <span class="n">container</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">delete_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="n">delete_button</span><span class="o">.</span><span class="n">setFixedSize</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">delete_button</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s2">&quot;./img/papelera.png&quot;</span><span class="p">))</span>
        <span class="n">delete_button</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;qssClass&quot;</span><span class="p">,</span> <span class="s2">&quot;delete_button&quot;</span><span class="p">)</span>
        <span class="n">styles</span><span class="o">.</span><span class="n">reload_style</span><span class="p">(</span><span class="n">delete_button</span><span class="p">)</span>
        <span class="c1">#delete_button.setStyleSheet(&quot;background-color: #efefef;&quot;)</span>
        <span class="n">delete_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">facturas</span><span class="o">.</span><span class="n">Facturas</span><span class="o">.</span><span class="n">eliminar_factura</span><span class="p">(</span><span class="n">factura</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]))</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">delete_button</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignmentFlag</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">container</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>

        <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">container</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.resize_cli_tab">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.resize_cli_tab">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">resize_cli_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">):</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">ResizeToContents</span><span class="p">)</span>
                <span class="n">header_items</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_cli</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">font</span> <span class="o">=</span> <span class="n">header_items</span><span class="o">.</span><span class="n">font</span><span class="p">()</span>
                <span class="n">font</span><span class="o">.</span><span class="n">setBold</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">header_items</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error en resize tabla clientes: &quot;</span> <span class="o">+</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.resize_pro_tab">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.resize_pro_tab">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">resize_pro_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">):</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">ResizeToContents</span><span class="p">)</span>
                <span class="n">header_items</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_pro</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">font</span> <span class="o">=</span> <span class="n">header_items</span><span class="o">.</span><span class="n">font</span><span class="p">()</span>
                <span class="n">font</span><span class="o">.</span><span class="n">setBold</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">header_items</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error en resize tabla propiedades: &quot;</span> <span class="o">+</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.resize_ven_tab">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.resize_ven_tab">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">resize_ven_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">):</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">ResizeToContents</span><span class="p">)</span>
                <span class="n">header_items</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_ven</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">font</span> <span class="o">=</span> <span class="n">header_items</span><span class="o">.</span><span class="n">font</span><span class="p">()</span>
                <span class="n">font</span><span class="o">.</span><span class="n">setBold</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">header_items</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error en resize tabla vendedores: &quot;</span> <span class="o">+</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.resize_fac_tab">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.resize_fac_tab">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">resize_fac_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">):</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">header</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">ResizeMode</span><span class="o">.</span><span class="n">ResizeToContents</span><span class="p">)</span>
                <span class="n">header_items</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tab_fac</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">font</span> <span class="o">=</span> <span class="n">header_items</span><span class="o">.</span><span class="n">font</span><span class="p">()</span>
                <span class="n">font</span><span class="o">.</span><span class="n">setBold</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">header_items</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error en resize tabla facturas: &quot;</span> <span class="o">+</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.crear_backup">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.crear_backup">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">crear_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fecha</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
            <span class="n">fecha</span> <span class="o">=</span> <span class="n">fecha</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y_/%m_/</span><span class="si">%d</span><span class="s1">_%H_%M_%S&#39;</span><span class="p">)</span>
            <span class="n">copia</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">fecha</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_backup.zip&quot;</span>
            <span class="n">directorio</span><span class="p">,</span> <span class="n">fichero</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">dlg_abrir</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Guardar Copia Seguridad&quot;</span><span class="p">,</span> <span class="n">copia</span><span class="p">,</span> <span class="s1">&#39;.zip&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">dlg_abrir</span><span class="o">.</span><span class="n">accept</span> <span class="ow">and</span> <span class="n">fichero</span><span class="p">:</span>
                <span class="n">fichzip</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">fichero</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
                <span class="n">fichzip</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;bbdd.sqlite&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="s1">&#39;bbdd.sqlite&#39;</span><span class="p">),</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZIP_DEFLATED</span><span class="p">)</span>
                <span class="n">fichzip</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">fichero</span><span class="p">,</span> <span class="n">directorio</span><span class="p">)</span>

                <span class="n">Eventos</span><span class="o">.</span><span class="n">mensaje_exito</span><span class="p">(</span><span class="s2">&quot;Copia de Seguridad&quot;</span><span class="p">,</span> <span class="s2">&quot;Copia de seguridad guardada&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error en crear backup: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.restaurar_backup">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.restaurar_backup">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">restaurar_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">dlg_abrir</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Restaurar Copia Seguridad&quot;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s2">&quot;*.zip;;All Files(*)&quot;</span><span class="p">)</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">filename</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">file</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">bbdd</span><span class="p">:</span>
                    <span class="n">bbdd</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">pwd</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

                <span class="n">Eventos</span><span class="o">.</span><span class="n">mensaje_exito</span><span class="p">(</span><span class="s2">&quot;Copia de Seguridad&quot;</span><span class="p">,</span> <span class="s2">&quot;Copia de seguridad restaurada&quot;</span><span class="p">)</span>

                <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">db_conexion</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">cargar_provincias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                <span class="n">clientes</span><span class="o">.</span><span class="n">Clientes</span><span class="o">.</span><span class="n">cargar_cli_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error en restaurar backup: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.limpiar_panel">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.limpiar_panel">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">limpiar_panel</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">clientes</span><span class="o">.</span><span class="n">Clientes</span><span class="o">.</span><span class="n">inicializar_campos</span><span class="p">()</span>
            <span class="n">objetos_panel_cli</span> <span class="o">=</span> <span class="n">clientes</span><span class="o">.</span><span class="n">Clientes</span><span class="o">.</span><span class="n">campos</span>

            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">objetos_panel_cli</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;provincia&quot;</span><span class="p">:</span>
                    <span class="n">Eventos</span><span class="o">.</span><span class="n">cargar_provincias</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;municipio&quot;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;last_cliente_function&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">listar_clientes</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">propiedades</span><span class="o">.</span><span class="n">Propiedades</span><span class="o">.</span><span class="n">inicializar_campos</span><span class="p">()</span>
            <span class="n">objetos_panel_pro</span> <span class="o">=</span> <span class="n">propiedades</span><span class="o">.</span><span class="n">Propiedades</span><span class="o">.</span><span class="n">campos</span>

            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">objetos_panel_pro</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;provincia&quot;</span><span class="p">:</span>
                    <span class="n">Eventos</span><span class="o">.</span><span class="n">cargar_provincias</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;municipio&quot;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">elif</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;tipo&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;check_alquiler&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;check_venta&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;check_intercambio&quot;</span>
                <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;radio_disponible&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;radio_alquilado&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;radio_vendido&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;check_alquiler&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;check_venta&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;check_intercambio&quot;</span><span class="p">:</span>
                        <span class="n">value</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;radio_disponible&quot;</span><span class="p">:</span>
                        <span class="n">value</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;radio_alquilado&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;radio_vendido&quot;</span><span class="p">:</span>
                        <span class="n">value</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="k">elif</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;banos&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;habitaciones&quot;</span><span class="p">):</span>
                    <span class="n">value</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            
            <span class="n">Eventos</span><span class="o">.</span><span class="n">cargar_propiedad_tipos</span><span class="p">(</span><span class="n">propiedades</span><span class="o">.</span><span class="n">Propiedades</span><span class="o">.</span><span class="n">campos</span><span class="p">[</span><span class="s2">&quot;tipo&quot;</span><span class="p">])</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;last_propiedad_function&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">listar_propiedades</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_alquiler_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;precio_venta_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;check_alquiler_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;check_venta_propiedad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">vendedores</span><span class="o">.</span><span class="n">Vendedores</span><span class="o">.</span><span class="n">inicializar_campos</span><span class="p">()</span>
            <span class="n">objetos_panel_ven</span> <span class="o">=</span> <span class="n">vendedores</span><span class="o">.</span><span class="n">Vendedores</span><span class="o">.</span><span class="n">campos</span>

            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">objetos_panel_ven</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;provincia&quot;</span><span class="p">:</span>
                    <span class="n">Eventos</span><span class="o">.</span><span class="n">cargar_provincias</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;last_vendedor_function&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">listar_vendedores</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">panel_principal</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">facturas</span><span class="o">.</span><span class="n">Facturas</span><span class="o">.</span><span class="n">inicializar_campos</span><span class="p">()</span>
            <span class="n">objetos_panel_fac</span> <span class="o">=</span> <span class="n">facturas</span><span class="o">.</span><span class="n">Facturas</span><span class="o">.</span><span class="n">campos</span>

            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">objetos_panel_fac</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.abrir_dlg_propiedades_tipo">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.abrir_dlg_propiedades_tipo">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">abrir_dlg_propiedades_tipo</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">dlg_gestion_propiedad_tipo</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error en abrir gestión propiedades &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.cargar_propiedad_tipos">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.cargar_propiedad_tipos">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cargar_propiedad_tipos</span><span class="p">(</span><span class="n">cmb</span><span class="p">):</span>
        <span class="n">registro</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">cargar_propiedad_tipos</span><span class="p">()</span>
        <span class="n">cmb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">tipo</span> <span class="ow">in</span> <span class="n">registro</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">tipo</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
                <span class="n">cmb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">tipo</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cmb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">tipo</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.exportar_propiedades_csv">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.exportar_propiedades_csv">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">exportar_propiedades_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fecha</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">_%H_%M_%S&quot;</span><span class="p">)</span>
            <span class="n">file</span> <span class="o">=</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">fecha</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;_DatosPropiedades.csv&#39;</span><span class="p">)</span>
            <span class="n">directorio</span><span class="p">,</span> <span class="n">fichero</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">dlg_abrir</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Exportar Datos en CSV&quot;</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="s2">&quot;.csv&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">fichero</span><span class="p">:</span>
                <span class="n">registros</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">listar_propiedades</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fichero</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvfile</span><span class="p">:</span>
                    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">csvfile</span><span class="p">)</span>
                    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">registros</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                    <span class="k">for</span> <span class="n">registro</span> <span class="ow">in</span> <span class="n">registros</span><span class="p">:</span>
                        <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">registro</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">fichero</span><span class="p">,</span> <span class="n">directorio</span><span class="p">)</span>

                <span class="n">Eventos</span><span class="o">.</span><span class="n">mensaje_exito</span><span class="p">(</span><span class="s2">&quot;Aviso&quot;</span><span class="p">,</span> <span class="s2">&quot;Fichero guardado&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">mensaje_error</span><span class="p">(</span><span class="s2">&quot;Aviso&quot;</span><span class="p">,</span><span class="s2">&quot;Error al exportar las propiedades&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al exportar las propiedades &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.exportar_propiedades_json">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.exportar_propiedades_json">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">exportar_propiedades_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fecha</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">_%H_%M_%S&quot;</span><span class="p">)</span>
            <span class="n">file</span> <span class="o">=</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">fecha</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;_DatosPropiedades.json&#39;</span><span class="p">)</span>
            <span class="n">directorio</span><span class="p">,</span> <span class="n">fichero</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">dlg_abrir</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Exportar Datos en JSON&quot;</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="s2">&quot;.json&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">fichero</span><span class="p">:</span>
                <span class="n">registros</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">clase_conexion</span><span class="o">.</span><span class="n">listar_propiedades</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fichero</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">jsonfile</span><span class="p">:</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">registros</span><span class="p">,</span> <span class="n">jsonfile</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">fichero</span><span class="p">,</span> <span class="n">directorio</span><span class="p">)</span>

                <span class="n">Eventos</span><span class="o">.</span><span class="n">mensaje_exito</span><span class="p">(</span><span class="s2">&quot;Aviso&quot;</span><span class="p">,</span> <span class="s2">&quot;Fichero guardado&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Eventos</span><span class="o">.</span><span class="n">mensaje_error</span><span class="p">(</span><span class="s2">&quot;Aviso&quot;</span><span class="p">,</span> <span class="s2">&quot;Error al exportar las propiedades&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al exportar las propiedades &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.abrir_dlg_about">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.abrir_dlg_about">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">abrir_dlg_about</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">dlg_about</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al abrir la ventana de acerca de &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>


<div class="viewcode-block" id="Eventos.avanzar_pagina_cliente">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.avanzar_pagina_cliente">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">avanzar_pagina_cliente</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_query_object&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;cliente_pagination&quot;</span><span class="p">]:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span></div>


<div class="viewcode-block" id="Eventos.retroceder_pagina_cliente">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.retroceder_pagina_cliente">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">retroceder_pagina_cliente</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_cli_pagina&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span></div>


<div class="viewcode-block" id="Eventos.avanzar_pagina_propiedad">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.avanzar_pagina_propiedad">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">avanzar_pagina_propiedad</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_query_object&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;propiedad_pagination&quot;</span><span class="p">]:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span></div>


<div class="viewcode-block" id="Eventos.retroceder_pagina_propiedad">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.retroceder_pagina_propiedad">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">retroceder_pagina_propiedad</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">change_state</span><span class="p">(</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">state_manager</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;current_pro_pagina&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span></div>


<div class="viewcode-block" id="Eventos.comparar_fechas">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.comparar_fechas">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">comparar_fechas</span><span class="p">(</span><span class="n">fecha_alta</span><span class="p">,</span> <span class="n">fecha_baja</span><span class="p">):</span>
        <span class="n">formato</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">/%m/%Y&#39;</span>
        <span class="k">if</span><span class="p">(</span><span class="ow">not</span> <span class="n">fecha_alta</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">fecha_alta</span><span class="p">,</span> <span class="n">formato</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">fecha_baja</span><span class="p">,</span> <span class="n">formato</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="Eventos.abrir_dlg_buscar_propiedades">
<a class="viewcode-back" href="../src/eventos.html#eventos.Eventos.abrir_dlg_buscar_propiedades">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">abrir_dlg_buscar_propiedades</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">var</span><span class="o">.</span><span class="n">dlg_buscar_propiedad</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error al abrir la ventana de acerca de &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></div>
</div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">alvarezgomez</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Ir a" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navegación</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Código de módulo</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Manuel Alvarez.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>